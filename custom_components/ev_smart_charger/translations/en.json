{
  "config": {
    "step": {
      "user": {
        "title": "âš¡ EV Smart Charger Setup - Step {step}/{total_steps}",
        "description": "**Welcome to EV Smart Charger!**\n\nThis integration intelligently manages your EV charging based on:\nâ€¢ â˜€ï¸ Solar production (charge from excess energy)\nâ€¢ ğŸ”‹ Battery levels (car & home)\nâ€¢ ğŸ’° Energy costs (charge when electricity is cheapest)\nâ€¢ ğŸŒ Grid import protection (never pull from grid)\n\n---\n\n**Let's get started!**\n\nFirst, give this integration a name to identify it in Home Assistant.",
        "data": {
          "name": "Integration Name"
        },
        "data_description": {
          "name": "ğŸ’¡ Choose a descriptive name (e.g., 'Garage Wallbox', 'Main EV Charger', 'Tesla Charger'). This helps if you manage multiple chargers."
        }
      },
      "entities": {
        "title": "ğŸ”Œ EV Charger Controls - Step {step}/{total_steps}",
        "description": "**Configure Your Charger Hardware**\n\nMap the entities that physically control your EV charger. These allow the integration to start/stop charging and adjust power levels.\n\nâš ï¸ **All fields are required** for proper operation.\n\n---",
        "data": {
          "ev_charger_switch": "ğŸ”´ Charger Power Switch",
          "ev_charger_current": "âš¡ Charging Current Control",
          "ev_charger_status": "ğŸ“Š Charger Status Sensor"
        },
        "data_description": {
          "ev_charger_switch": "**What it does:** Turns your charger ON/OFF\n**Domain:** switch\n**Example:** `switch.wallbox_portal_status_description`\n\nğŸ’¡ This is the main power control for your charger.",
          "ev_charger_current": "**What it does:** Controls charging amperage (6-32A)\n**Domain:** number, select, input_number, input_select\n**Example:** `number.wallbox_portal_max_charging_current`\n\nğŸ’¡ The integration adjusts this to match available solar surplus. Supported levels: 6A, 8A, 10A, 13A, 16A, 20A, 24A, 32A",
          "ev_charger_status": "**What it does:** Reports charger state\n**Domain:** sensor\n**Example:** `sensor.wallbox_portal_status_description`\n\nğŸ’¡ Must report one of these states:\n  â€¢ `charger_charging` - Actively charging\n  â€¢ `charger_free` - No car connected\n  â€¢ `charger_end` - Car plugged in, not charging\n  â€¢ `charger_wait` - Waiting to charge"
        }
      },
      "sensors": {
        "title": "ğŸ“ˆ Energy Monitoring Sensors - Step {step}/{total_steps}",
        "description": "**Configure Your Energy System**\n\nConnect sensors that monitor your solar, battery, and grid usage. These enable intelligent charging decisions based on real-time energy availability.\n\nâš ï¸ **All fields are required** for smart charging features.\n\n---",
        "data": {
          "soc_car": "ğŸš— Car Battery Level (SOC %)",
          "soc_home": "ğŸ  Home Battery Level (SOC %)",
          "fv_production": "â˜€ï¸ Solar Panel Production (W)",
          "home_consumption": "âš¡ Home Power Consumption (W)",
          "grid_import": "ğŸ”Œ Grid Import Power (W)"
        },
        "data_description": {
          "soc_car": "**What it does:** Tracks your EV's battery level\n**Domain:** sensor\n**Unit:** Percentage (0-100%)\n**Example:** `sensor.tesla_battery_level`\n\nğŸ’¡ Used to determine if car needs charging and for charge target features.",
          "soc_home": "**What it does:** Tracks your home battery level\n**Domain:** sensor\n**Unit:** Percentage (0-100%)\n**Example:** `sensor.powerwall_charge`\n\nğŸ’¡ Ensures home battery has priority before charging EV in some modes.",
          "fv_production": "**What it does:** Real-time solar power generation\n**Domain:** sensor\n**Unit:** Watts (W)\n**Example:** `sensor.solar_power`\n\nğŸ’¡ **Critical for Solar Surplus mode** - measures how much solar energy is available for charging.",
          "home_consumption": "**What it does:** Current household power usage\n**Domain:** sensor\n**Unit:** Watts (W)\n**Example:** `sensor.home_consumption`\n\nğŸ’¡ **Important:** This should exclude EV charger power! Used to calculate: Surplus = Solar - Home Consumption",
          "grid_import": "**What it does:** Power being pulled from the grid\n**Domain:** sensor\n**Unit:** Watts (W)\n**Example:** `sensor.grid_import_power`\n\nğŸ’¡ **Grid Protection:** Positive value = importing from grid. Solar Surplus mode uses this to ensure you never import while charging."
        }
      },
      "pv_forecast": {
        "title": "ğŸŒ™ Night Smart Charge (Optional) - Step {step}/{total_steps}",
        "description": "**Configure Solar Forecast Sensor**\n\nğŸŒ™ **Night Smart Charge** optimizes overnight charging based on tomorrow's solar forecast:\nâ€¢ â˜€ï¸ **High forecast (â‰¥20 kWh):** Charge from home battery (solar will recharge it)\nâ€¢ â˜ï¸ **Low forecast (<20 kWh):** Charge from grid (preserve home battery)\n\nâš ï¸ **This step is OPTIONAL** - Skip if you don't have a solar forecast sensor or don't want Night Smart Charge.\n\n---",
        "data": {
          "pv_forecast": "â˜€ï¸ Solar Forecast Sensor (Optional)"
        },
        "data_description": {
          "pv_forecast": "**What it does:** Provides next-day solar production forecast\n**Domain:** sensor\n**Unit:** Kilowatt-hours (kWh)\n**Example:** `sensor.solcast_pv_forecast_forecast_today`, `sensor.forecast_solar_production`\n\nğŸ’¡ **Leave empty** if you don't have a forecast sensor. Night Smart Charge will use grid mode as fallback.\n\nğŸ’¡ **Popular integrations:**\n  â€¢ Solcast Solar (recommended)\n  â€¢ Forecast.Solar\n  â€¢ Custom solar forecast sensors"
        }
      },
      "notifications": {
        "title": "ğŸ“± Mobile Notifications - Step {step}/{total_steps}",
        "description": "**ğŸ”” Stay Informed with Smart Notifications**\n\n**Get instant alerts on your mobile devices for:**\n\nğŸš« **Smart Blocker Events**\nâ€¢ Charging blocked outside permitted window\nâ€¢ Includes reason (nighttime, insufficient solar)\nâ€¢ Continuous monitoring active\n\nâš–ï¸ **Priority Balancer Changes**\nâ€¢ Priority switched: EV â†” Home â†” EV_Free\nâ€¢ Current SOC levels (EV & Home)\nâ€¢ Daily targets status\n\nğŸŒ™ **Night Smart Charge**\nâ€¢ Charging started (battery/grid mode)\nâ€¢ Solar forecast information\nâ€¢ Target SOC progress\n\n---\n\nğŸ’¡ **How it works:**\nâ€¢ Select one or more mobile devices below\nâ€¢ All notifications use title **\"BORGO\"** for easy filtering\nâ€¢ After setup, use dashboard switches to enable/disable per feature\nâ€¢ Notifications are **enabled by default**, disable if not needed\n\nâš ï¸ **Optional:** Leave empty to skip mobile notifications (can configure later)",
        "data": {
          "notify_services": "ğŸ“± Select Mobile Devices"
        },
        "data_description": {
          "notify_services": "**Available:** All Home Assistant Mobile App devices\n**Examples:** mobile_app_johns_iphone, mobile_app_pixel_8\n\nâœ… **Pro Tip:** Select all household devices for comprehensive monitoring"
        }
      },
      "external_connectors": {
        "title": "ğŸ”— External Connectors - Step {step}/{total_steps}",
        "description": "**ğŸ“Š Energy Forecast Calculation**\n\nâš¡ **Energy Forecast** automatically calculates the energy required for night charging:\n\n**How it works:**\nâ€¢ ğŸ“ Formula: `Energy (kWh) = (Target SOC % - Current SOC %) Ã— Battery Capacity / 100`\nâ€¢ ğŸ’¾ Saves the value to an `input_number` sensor of your choice\nâ€¢ â±ï¸ Calculated at the start of each night charge session (BATTERY or GRID mode)\nâ€¢ ğŸ”’ Fixed value (not updated during charging)\n\n**Example:**\nâ€¢ Current SOC: 45% | Target: 80% | Capacity: 75 kWh\nâ€¢ Calculated Energy: **(80 - 45) Ã— 75 / 100 = 26.25 kWh**\n\nğŸ’¡ **Useful for:**\nâ€¢ Energy planning\nâ€¢ Integration with energy management systems\nâ€¢ Tracking charging efficiency\n\nâš ï¸ **Optional:** Leave target sensor empty to skip this feature\n\n---",
        "data": {
          "battery_capacity": "ğŸ”‹ EV Battery Capacity (kWh)",
          "energy_forecast_target": "ğŸ“Š Forecast Target Sensor (Optional)"
        },
        "data_description": {
          "battery_capacity": "**Total capacity of your EV battery in kWh**\n**Range:** 10-200 kWh\n**Examples:**\n  â€¢ Tesla Model 3 LR: 75 kWh\n  â€¢ VW ID.3: 58 kWh\n  â€¢ Nissan Leaf: 40 kWh\n\nğŸ’¡ Used to calculate the energy needed to reach daily SOC target.",
          "energy_forecast_target": "**`input_number` sensor where to save calculated energy**\n**Domain:** input_number\n**Unit:** kWh\n\nğŸ’¡ **How to create:**\n  1. Settings â†’ Devices & Services â†’ Helpers\n  2. Create Helper â†’ Number\n  3. Name: \"Night Charge Energy Forecast\"\n  4. Min: 0 | Max: 200 | Step: 0.1 | Unit: kWh\n\nğŸ’¡ **Leave empty** to disable energy forecast feature."
        }
      }
    },
    "error": {
      "required": "This field is required",
      "invalid_battery_capacity": "Battery capacity must be between 10 and 200 kWh",
      "entity_not_found": "Entity not found in system",
      "invalid_domain": "Entity must be of type input_number"
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "ğŸ”Œ Update Charger Controls - Step {step}/{total_steps}",
        "description": "**Reconfigure Charger Hardware**\n\nUpdate the entities that control your EV charger.\n\nâš ï¸ **All fields are required**.\n\n---",
        "data": {
          "ev_charger_switch": "ğŸ”´ Charger Power Switch",
          "ev_charger_current": "âš¡ Charging Current Control",
          "ev_charger_status": "ğŸ“Š Charger Status Sensor"
        },
        "data_description": {
          "ev_charger_switch": "**What it does:** Turns your charger ON/OFF\n**Domain:** switch",
          "ev_charger_current": "**What it does:** Controls charging amperage (6-32A)\n**Domain:** number, select, input_number, input_select",
          "ev_charger_status": "**What it does:** Reports charger state\n**Domain:** sensor\n**States:** charger_charging, charger_free, charger_end, charger_wait"
        }
      },
      "sensors": {
        "title": "ğŸ“ˆ Update Energy Sensors - Step {step}/{total_steps}",
        "description": "**Reconfigure Energy Monitoring**\n\nUpdate the sensors that monitor your energy system.\n\nâš ï¸ **All fields are required**.\n\n---",
        "data": {
          "soc_car": "ğŸš— Car Battery Level (SOC %)",
          "soc_home": "ğŸ  Home Battery Level (SOC %)",
          "fv_production": "â˜€ï¸ Solar Panel Production (W)",
          "home_consumption": "âš¡ Home Power Consumption (W)",
          "grid_import": "ğŸ”Œ Grid Import Power (W)"
        },
        "data_description": {
          "soc_car": "**Domain:** sensor | **Unit:** Percentage (0-100%)",
          "soc_home": "**Domain:** sensor | **Unit:** Percentage (0-100%)",
          "fv_production": "**Domain:** sensor | **Unit:** Watts (W) | **Critical for Solar Surplus mode**",
          "home_consumption": "**Domain:** sensor | **Unit:** Watts (W) | **Should exclude EV charger**",
          "grid_import": "**Domain:** sensor | **Unit:** Watts (W) | **Positive = importing from grid**"
        }
      },
      "pv_forecast": {
        "title": "ğŸŒ™ Update Solar Forecast (Optional) - Step {step}/{total_steps}",
        "description": "**Update Solar Forecast Sensor**\n\nğŸŒ™ Used by Night Smart Charge to optimize overnight charging.\n\nâš ï¸ **This is OPTIONAL** - Leave empty if not using Night Smart Charge.\n\n---",
        "data": {
          "pv_forecast": "â˜€ï¸ Solar Forecast Sensor (Optional)"
        },
        "data_description": {
          "pv_forecast": "**Domain:** sensor | **Unit:** kWh | **Example:** sensor.solcast_pv_forecast_forecast_today"
        }
      },
      "notifications": {
        "title": "ğŸ“± Update Mobile Notifications - Step {step}/{total_steps}",
        "description": "**ğŸ”” Update Notification Devices**\n\n**Current notification types:**\nâ€¢ ğŸš« Smart Blocker alerts\nâ€¢ âš–ï¸ Priority Balancer changes\nâ€¢ ğŸŒ™ Night Smart Charge status\n\nğŸ’¡ **Notification title:** BORGO (for filtering)\nğŸ’¡ **Dashboard control:** Use switches to enable/disable per feature\n\nâš ï¸ **Leave empty** to disable all mobile notifications\n\n---",
        "data": {
          "notify_services": "ğŸ“± Select Mobile Devices"
        },
        "data_description": {
          "notify_services": "**Available:** All Home Assistant Mobile App devices\n**Note:** Changes apply immediately to new notifications"
        }
      },
      "external_connectors": {
        "title": "ğŸ”— Update External Connectors",
        "description": "**ğŸ“Š Modify Energy Forecast Configuration**\n\nUpdate the EV battery capacity and target sensor for energy forecast calculation.\n\nâš ï¸ **Optional:** Leave target sensor empty to disable the feature\n\n---",
        "data": {
          "battery_capacity": "ğŸ”‹ EV Battery Capacity (kWh)",
          "energy_forecast_target": "ğŸ“Š Forecast Target Sensor (Optional)"
        },
        "data_description": {
          "battery_capacity": "**Range:** 10-200 kWh | **Used to calculate required energy**",
          "energy_forecast_target": "**Domain:** input_number | **Unit:** kWh | **Leave empty to disable**"
        }
      }
    },
    "error": {
      "required": "This field is required",
      "invalid_battery_capacity": "Battery capacity must be between 10 and 200 kWh",
      "entity_not_found": "Entity not found in system",
      "invalid_domain": "Entity must be of type input_number"
    }
  }
}
